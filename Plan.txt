ðŸš€ Plan de DÃ©veloppement : GadgetAn (Stack React + Hono)
1. Architecture Globale
L'application est sÃ©parÃ©e en deux entitÃ©s distinctes pour maximiser la performance :

Backend (API) : Hono (Node.js ou Bun) pour traiter les requÃªtes JSON.

Frontend (UI) : React avec Vite pour le build et react-router pour le routage cÃ´tÃ© client.

2. Structure du Projet
Plaintext

/gadgetan-project
â”œâ”€â”€ /backend (Hono)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts        # Entry point & Routes API
â”‚   â”‚   â”œâ”€â”€ db.ts           # Connexion MySQL (Drizzle ou Knex)
â”‚   â”‚   â””â”€â”€ controllers/    # Logique (Ventes, Stocks, Prod)
â”œâ”€â”€ /frontend (React)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Composants UI (Glassmorphism)
â”‚   â”‚   â”œâ”€â”€ pages/          # Vues principales (Dashboard, Caisse...)
â”‚   â”‚   â”œâ”€â”€ App.tsx         # Configuration de react-router
â”‚   â”‚   â””â”€â”€ hooks/          # Appels API avec TanStack Query
3. Configuration du Routage (react-router)
Le routage doit Ãªtre dÃ©clarÃ© dans App.tsx pour permettre une navigation sans reload.

Routes Publiques :

/login : Authentification (Validation via POST /api/auth).

Routes PrivÃ©es (Protected Routes) :

/ : Dashboard (Stats Chart.js).

/gadgets : Catalogue & Gestion des prix.

/stocks : Ã‰tat des stocks et alertes (D3.js).


/productions : Gestion des sessions de production.

/caisse : Interface de vente en temps rÃ©el.


/employes : Organigramme RH (D3.js).

4. SpÃ©cifications du Backend (Hono API)
Gestion des Stocks et Productions

POST /api/productions : CrÃ©e une production et met Ã  jour automatiquement la table STOCKS (incrÃ©mentation de quantite_disponible).

GET /api/stocks/stats : Retourne les donnÃ©es JSON pour les jauges D3.js.

Cycle de Vente et Facturation
POST /api/ventes :

VÃ©rifie que quantite_vendue <= quantite_disponible.

InsÃ¨re la vente et capture le prix actuel dans CONCERNER.prix_unitaire_appliquer.

DÃ©crÃ©mente le stock.

GÃ©nÃ¨re la facture liÃ©e.

5. Guide de Style UI (Stitch)
Pour l'aspect Futuriste / Antigravity :

Navigation : Utiliser <NavLink> de react-router avec des transitions CSS (fades) pour passer d'une vue Ã  l'autre sans flash blanc.

Visualisation :


Dashboard : IntÃ©grer des graphiques nÃ©on (Bleu/Violet) via Chart.js pour le suivi financier.


RH : Utiliser l'auto-jointure matricule_employe_Superviseur pour gÃ©nÃ©rer un arbre D3.js interactif.


Ã‰tat Global : Utiliser Context API pour stocker les informations de l'employÃ© connectÃ© (matricule, rÃ´le) aprÃ¨s le login.

6. SÃ©curitÃ© et IntÃ©gritÃ©

HÃ©ritage : Le backend doit vÃ©rifier que seul un matricule prÃ©sent dans la table CAISSIERS peut poster sur /api/ventes.

Transactions SQL : Les ventes et productions doivent Ãªtre encapsulÃ©es dans des transactions SQL pour garantir que le stock et la ligne de mouvement sont toujours synchronisÃ©s.

Types : Utilisation de TypeScript sur toute la stack pour Ã©viter les erreurs de manipulation sur les IDs de gadgets ou d'employÃ©s.

ON doit utiliser une base de donnÃ©es MySQL.
Pour la connexion Ã  la bd, utiliser le fichier Connect_to_db.txt
